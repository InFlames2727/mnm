const oneLine = require('common-tags').oneLine;
const Command = require('../base');

module.exports = class PingCommand extends Command {
	constructor(client) {
		super(client, {
			name: 'ping',
			group: 'util',
			memberName: 'ping',
			description: 'Botun pingini gösterir.',
			throttling: {
				usages: 5,
				duration: 10
			}
		});
	}

	async run(msg) {
		if(!msg.editable) {
			let ping = client.ping
let msgping = new Date().getTime() - msg.createdTimestamp

var durum = ''
if (ping < 100) {
  var durum = '<:VEGASonline:513600306400067604>'
}
if (ping > 100) {
  var durum = '<:VEGASidle:513600955120353281>'
}
if (ping > 200) {
  var durum = '<:VEGASdnd:513600112392536076>'
}

var msgdurum = ''
if (msgping < 100) {
  var msgdurum = '<:VEGASonline:513600306400067604>'
}
if (msgping > 100) {
  var msgdurum = '<:VEGASidle:513600955120353281>'
}
if (msgping > 200) {
  var msgdurum = '<:VEGASdnd:513600112392536076>'
}
			const pingMsg = await msg('Hesaplanıyor...');
			return pingMsg.edit(oneLine`
				${msg.channel.type !== 'dm' ? `${msg.author},` : ''}
				**Mesaj Gecikmesi:** \`\`${msgping}\`\` (${msgdurum})ms.
                                 **Bot Gecikmesi:** \`\`${ping}\`\` (${durum})`);
		} else {
						let ping = client.ping
let msgping = new Date().getTime() - message.createdTimestamp

var durum = ''
if (ping < 100) {
  var durum = '<:VEGASonline:513600306400067604>'
}
if (ping > 100) {
  var durum = '<:VEGASidle:513600955120353281>'
}
if (ping > 200) {
  var durum = '<:VEGASdnd:513600112392536076>'
}

var msgdurum = ''
if (msgping < 100) {
  var msgdurum = '<:VEGASonline:513600306400067604>'
}
if (msgping > 100) {
  var msgdurum = '<:VEGASidle:513600955120353281>'
}
if (msgping > 200) {
  var msgdurum = '<:VEGASdnd:513600112392536076>'
}
			await msg.edit('Hesaplanıyor...');
			return msg.edit(oneLine`
				**Mesaj Gecikmesi:** \`\`${msgping}\`\` (${msgdurum})ms.
                                 **Bot Gecikmesi:** \`\`${ping}\`\` (${durum})`);
			`);
		}
	}
};
